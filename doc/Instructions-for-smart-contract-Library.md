## 1)First, you need to upload the code, then activate the code, and then use the code to create a smart contract;
## 2)Upload code:
a)Use getcontractmuxcode to generate contract code data. You need to use this data and call sendfromrpc to generate transactions;
b)The muxtype parameter must be upcode, which means that only the code is uploaded and no contract is created;
c)The parameters of getcontractmuxcode are described as follows:
muxtype：Operation type: create: indicates to create a contract, which requires code data; Setup: means to create a contract, but only the code hash is required, without code data; Upcode: means to upload the code without creating a contract;
name：Code or contract name;
owner：Code owner, or author;
code：Wasm code data, or code hash. When muxtype is setup, this parameter is code hash;
type：Classification, code or contract classification. You can use @ to classify the classification and display it on the browser;
describe：Description;
source：Source code data;
d)Use sendfromto generate transactions. The fdata parameter in sendfromis the data generated by getcontractmuxcode. If you use fdata to transfer contract data, you do not need the contractcode parameter, but you still need the contractparam to create the initialization parameter of the contract;

## 3) Activation code:
a)Add activation template address:
addnewtemplate activatecode '{"grant": "1549pyzf8dhx7r4x40k5j80f12btkpqfprjp134bcgcrjn963nzsx57xb"}'
Grant parameter is the authorization address. The authorization address is written in the code and is currently 1549pyzf8dhx7r4x40k5j80f12btkpqfprjp134bcgcrjn963nzsx57xb;
b)sendfrom：Transfer from the authorized address to the activation template address, the amount of transfer is 0, and the data data is the activation code hash;
Example: sendfrom 1549pyzf8dhx7r4x40k5j80f12btkpqfprjp134bcgcrjn963nzsx57xb 21008sfgst0vy8dv1cpwg5610ns3ecj3y4hsqv114f2knk1s5fcq98vnp 0 -d=579b261853b14cf9d026f1e0027852c52c4dd65845fbac13baff216ba2b04cf8

## 4) Create contract:
Create a contract by getcontractmuxcode + sendfromor create a contract by setting the contractcode parameter in sendfromhash;
Getcontractmuxcode + sendfromcreate a contract. You can set the contract name, description and other information;

5) Query code list: listcontractcode
6) Query contract address list: listcontractaddress
7) Query contract address information: getdestcontract
8) Get contract source code: getcontractsource
9) Get contract code: getcontractcode

Note:
For contract creation, see test / testscript / base / vmtest Use of muxcontracttest in py;

## Example: 
```bash
# Import private key
metabasenet-cli  importprivkey 141a6728ded4f83f767ea770e3582be497c5088fcc3b9ca248751887534f5197 123 

# Unlock private key
metabasenet-cli  unlockkey  f3afc3a42a31836c9111acc4f65d3bf512e10124cb04a4137c7a6ce87d6f1329 123 0 
# It means that the code is uploaded and no contract is created

# def muxcontracttest(fromaddress, fork, cparam, muxtype, name, owner, codefile, typein, describe, sourcefile):
# fromaddress:1549pyzf8dhx7r4x40k5j80f12btkpqfprjp134bcgcrjn963nzsx57xb
# fork:00000000769872b2afcc290a025b23362202fc3ba715c7fc27bd96b2aec73e4b
# cparam:300000000
# muxtype：upcode
# name : erc20
# owner : 1j6x8vdkkbnxe8qwjggfan9c8m8zhmez7gm3pznsqxgch3eyrwxby8eda
# codefile :  erc20.wasm
# typein(classification) : erc
# describe(describe): erc20test
# sourcefile : erc20.sol
python3 vmtest.py muxcontracttest 1549pyzf8dhx7r4x40k5j80f12btkpqfprjp134bcgcrjn963nzsx57xb 00000000769872b2afcc290a025b23362202fc3ba715c7fc27bd96b2aec73e4b 300000000 upcode erc20 1j6x8vdkkbnxe8qwjggfan9c8m8zhmez7gm3pznsqxgch3eyrwxby8eda erc20.wasm erc erc20test erc20.sol

# View contract
listcontractcode
# The contract returns to zero and it is found that the contract is not activated

# Activate operation
addnewtemplate activatecode '{"grant": "1549pyzf8dhx7r4x40k5j80f12btkpqfprjp134bcgcrjn963nzsx57xb"}' 
sendfrom 1549pyzf8dhx7r4x40k5j80f12btkpqfprjp134bcgcrjn963nzsx57xb 21008sfgst0vy8dv1cpwg5610ns3ecj3y4hsqv114f2knk1s5fcq98vnp 0 -d=579b261853b14cf9d026f1e0027852c52c4dd65845fbac13baff216ba2b04cf8 

# View contract 
listcontractcode 
# The contract returns 1 and it is found that the contract has been activated 

# Contract creation indicates that the contract has been approved
python3 vmtest.py muxcontracttest 1549pyzf8dhx7r4x40k5j80f12btkpqfprjp134bcgcrjn963nzsx57xb 00000000769872b2afcc290a025b23362202fc3ba715c7fc27bd96b2aec73e4b 300000000 create erc20 1j6x8vdkkbnxe8qwjggfan9c8m8zhmez7gm3pznsqxgch3eyrwxby8eda  erc20.wasm erc erc20test erc20.sol

# View contract address
listcontractaddress

# Another kind of contract creation does not need to use code, but needs to use hash
python3 vmtest.py muxcontracttest 1549pyzf8dhx7r4x40k5j80f12btkpqfprjp134bcgcrjn963nzsx57xb 00000000769872b2afcc290a025b23362202fc3ba715c7fc27bd96b2aec73e4b 300000000 setup erc20-002 1j6x8vdkkbnxe8qwjggfan9c8m8zhmez7gm3pznsqxgch3eyrwxby8eda 579b261853b14cf9d026f1e0027852c52c4dd65845fbac13baff216ba2b04cf8 erc-0009 erc20test-88888 erc20.sol 

## The real contract is created. CC represents the contract ID and CP represents the contract parameters
sendfrom 1549pyzf8dhx7r4x40k5j80f12btkpqfprjp134bcgcrjn963nzsx57xb 0 0 -cc=579b261853b14cf9d026f1e0027852c52c4dd65845fbac13baff216ba2b04cf8 -cp=00000000000000000000000000000000000000000000000029a2241af62c0000 
sendfrom 1549pyzf8dhx7r4x40k5j80f12btkpqfprjp134bcgcrjn963nzsx57xb 0 0 -cc=3a0jpkrj9byg90745sgsxmqfxshznz5ww9xqg60h4s2nkdzyt9c8tw3mt -cp=00000000000000000000000000000000000000000000000029a2241af62c0000 
```